---
title: 'MCP Integration'
description: 'Use TinyFn tools with AI assistants via Model Context Protocol'
---

## What is MCP?

[Model Context Protocol (MCP)](https://modelcontextprotocol.io) is an open standard that lets AI assistants like Claude, Cursor, and Windsurf call external tools directly. Instead of guessing answers, your AI can call TinyFn functions for accurate, deterministic results.

## Why Use TinyFn MCP?

LLMs frequently hallucinate when doing:

| Task | Problem | TinyFn Solution |
|------|---------|-----------------|
| **Math** | Large number arithmetic, floating point errors | Precise calculations |
| **Counting** | "How many R's in strawberry?" → often wrong | Exact character counts |
| **Conversions** | UK vs US gallons, temperature formulas | Verified conversion factors |
| **Encoding** | Can't compute Base64, hashes, or JWT | Real cryptographic functions |
| **Dates** | Timezone math, leap years, DST | Accurate date handling |
| **Validation** | Guesses at email/URL/phone formats | RFC-compliant validators |

With TinyFn MCP, your AI calls verified functions instead of guessing.

## Quick Setup

There are two ways to connect to TinyFn MCP, depending on your client's capabilities:

### Option 1: Direct HTTP Connection (Recommended)

For clients that support remote MCP servers natively (Cursor, newer clients):

<Tabs>
  <Tab title="Cursor">
    Edit `~/.cursor/mcp.json` (global) or `.cursor/mcp.json` (project):

    ```json
    {
      "mcpServers": {
        "tinyfn": {
          "url": "https://api.tinyfn.io/mcp/all",
          "headers": {
            "X-API-Key": "your-api-key"
          }
        }
      }
    }
    ```
  </Tab>
  <Tab title="Other HTTP Clients">
    For any MCP client supporting HTTP/SSE transport:

    ```json
    {
      "mcpServers": {
        "tinyfn": {
          "url": "https://api.tinyfn.io/mcp/all",
          "headers": {
            "X-API-Key": "your-api-key"
          }
        }
      }
    }
    ```
  </Tab>
</Tabs>

### Option 2: STDIO Bridge (Universal)

For clients that only support local stdio servers (Claude Desktop, some VS Code setups):

<Tabs>
  <Tab title="Claude Desktop">
    Edit your Claude Desktop config file:

    - **macOS**: `~/Library/Application Support/Claude/claude_desktop_config.json`
    - **Windows**: `%APPDATA%\Claude\claude_desktop_config.json`

    ```json
    {
      "mcpServers": {
        "tinyfn": {
          "command": "npx",
          "args": [
            "-y",
            "mcp-remote",
            "https://api.tinyfn.io/mcp/all",
            "--header",
            "X-API-Key:${TINYFN_API_KEY}"
          ],
          "env": {
            "TINYFN_API_KEY": "your-api-key"
          }
        }
      }
    }
    ```
  </Tab>
  <Tab title="Windsurf">
    Edit `~/.codeium/windsurf/mcp_config.json`:

    ```json
    {
      "mcpServers": {
        "tinyfn": {
          "command": "npx",
          "args": [
            "-y",
            "mcp-remote",
            "https://api.tinyfn.io/mcp/all",
            "--header",
            "X-API-Key:${TINYFN_API_KEY}"
          ],
          "env": {
            "TINYFN_API_KEY": "your-api-key"
          }
        }
      }
    }
    ```
  </Tab>
  <Tab title="VS Code">
    Add to your VS Code `settings.json`:

    ```json
    {
      "mcp": {
        "servers": {
          "tinyfn": {
            "command": "npx",
            "args": [
              "-y",
              "mcp-remote",
              "https://api.tinyfn.io/mcp/all",
              "--header",
              "X-API-Key:${TINYFN_API_KEY}"
            ],
            "env": {
              "TINYFN_API_KEY": "your-api-key"
            }
          }
        }
      }
    }
    ```
  </Tab>
</Tabs>

Replace `your-api-key` with your [TinyFn API key](https://tinyfn.io/#signup).

<Warning>
  After editing the config, restart your AI assistant for changes to take effect.
</Warning>

## Configuration Explained

### Direct HTTP Connection

| Field | Purpose |
|-------|---------|
| `url` | TinyFn MCP server endpoint |
| `headers` | Authentication headers sent with each request |

### STDIO Bridge Connection

| Field | Purpose |
|-------|---------|
| `command` | Uses `npx` to run the MCP bridge |
| `-y` | Auto-accepts npx package installation |
| `mcp-remote` | Bridge that connects stdio clients to remote HTTP servers |
| `--header` | Passes your API key for authentication |
| `env` | Stores sensitive values as environment variables |

<Note>
  For the STDIO bridge, use `X-API-Key:${TINYFN_API_KEY}` syntax (no space after colon) due to a bug in some MCP clients where spaces in args aren't properly escaped.
</Note>

## Available Servers

TinyFn provides category-based MCP servers so you can choose only the tools you need:

| Server | Endpoint | Tools |
|--------|----------|-------|
| **All** | `/mcp/all` | All 500+ tools |
| **Math** | `/mcp/math` | Arithmetic, primes, factorials, GCD/LCM |
| **String** | `/mcp/string` | Character counting, case conversion, slugify |
| **Convert** | `/mcp/convert` | Temperature, length, weight, volume, speed |
| **Validate** | `/mcp/validate` | Email, URL, phone, UUID, credit card |
| **Hash** | `/mcp/hash` | MD5, SHA256, SHA512, bcrypt, HMAC |
| **Encode** | `/mcp/encode` | Base64, URL encoding, HTML entities, JWT |
| **DateTime** | `/mcp/datetime` | Date parsing, formatting, age calculation |
| **Time** | `/mcp/time` | Timezone conversion, DST handling |
| **Stats** | `/mcp/stats` | Mean, median, mode, standard deviation |
| **Format** | `/mcp/format` | Numbers, currency, phone, file sizes |
| **Color** | `/mcp/color` | Hex/RGB/HSL conversion, contrast ratios |
| **JSON** | `/mcp/json` | Parse, flatten, diff, query |
| **Regex** | `/mcp/regex` | Pattern matching, extraction, validation |
| **IP** | `/mcp/ip` | IPv4/IPv6 validation, CIDR, geolocation |
| **Finance** | `/mcp/finance` | Interest, ROI, loan calculations |
| **Health** | `/mcp/health` | BMI, BMR, calorie calculations |
| **Fun** | `/mcp/fun` | Dad jokes, magic 8-ball, random facts |

### Using Specific Categories

To use only math and string tools, configure multiple servers:

```json
{
  "mcpServers": {
    "tinyfn-math": {
      "command": "npx",
      "args": [
        "-y",
        "mcp-remote",
        "https://api.tinyfn.io/mcp/math",
        "--header",
        "X-API-Key:${TINYFN_API_KEY}"
      ],
      "env": {
        "TINYFN_API_KEY": "your-api-key"
      }
    },
    "tinyfn-string": {
      "command": "npx",
      "args": [
        "-y",
        "mcp-remote",
        "https://api.tinyfn.io/mcp/string",
        "--header",
        "X-API-Key:${TINYFN_API_KEY}"
      ],
      "env": {
        "TINYFN_API_KEY": "your-api-key"
      }
    }
  }
}
```

<Tip>
  Using specific categories keeps your AI focused and reduces context window usage. Start with `/mcp/all` and narrow down once you know which tools you need most.
</Tip>

## Verifying Setup

After restarting your AI assistant, try these prompts:

1. **"How many R's are in 'strawberry'?"** → Should call `string/count-char`
2. **"Convert 98.6°F to Celsius"** → Should call `convert/fahrenheit-to-celsius`
3. **"Is test@example.com a valid email?"** → Should call `validate/email`
4. **"What's the SHA256 hash of 'hello'?"** → Should call `hash/sha256`

If the AI uses TinyFn tools instead of guessing, you're all set!

## Troubleshooting

<AccordionGroup>
  <Accordion title="Tools not appearing">
    - Ensure you restarted the AI assistant after config changes
    - Check that your API key is valid at [tinyfn.io](https://tinyfn.io)
    - Verify the config file path is correct for your OS
  </Accordion>
  <Accordion title="Authentication errors">
    - Make sure there's no space after the colon in `X-API-Key:${TINYFN_API_KEY}`
    - Verify `TINYFN_API_KEY` in the `env` object matches your actual key
    - Check your API key hasn't expired or been revoked
  </Accordion>
  <Accordion title="npx errors">
    - Add `-y` flag to auto-accept package installation
    - Try `mcp-remote@latest` to ensure you have the newest version
    - Check you have Node.js 18+ installed
  </Accordion>
  <Accordion title="Connection timeouts">
    - If behind a VPN, you may need to set `NODE_EXTRA_CA_CERTS`
    - Try adding `--allow-http` flag for private network testing only
  </Accordion>
</AccordionGroup>

## Rate Limits

MCP requests use the same rate limits as the REST API:

| Plan | Requests/month |
|------|----------------|
| Free | 100 |
| Starter | 10,000 |
| Pro | 100,000 |
| Enterprise | Custom |

Each tool call counts as one request.

## Next Steps

<CardGroup cols={2}>
  <Card title="API Reference" icon="code" href="/api-reference">
    Browse all 500+ available tools
  </Card>
  <Card title="Get API Key" icon="key" href="https://tinyfn.io/#signup">
    Sign up for free
  </Card>
</CardGroup>
